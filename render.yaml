services:
  - type: web
    name: gigabytes
    runtime: image
    image:
      url: php:8.3-apache
    buildCommand: |
      apt-get update && apt-get install -y git unzip libzip-dev libpng-dev libonig-dev libxml2-dev
      docker-php-ext-install pdo_mysql mbstring zip gd xml
      curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer
      composer install --no-dev --optimize-autoloader
      php artisan config:cache
      php artisan route:cache
      php artisan view:cache
    startCommand: php artisan serve --host=0.0.0.0 --port=$PORT
